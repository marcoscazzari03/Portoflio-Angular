<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Portfolio | Marco Scazzari</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap"
      rel="stylesheet"
    />

    <!-- FontAwesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-K77R71FWFY"
    ></script>
    <script>
      // === CONFIGURAZIONE INIZIALE GA4 ===
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }

      // Imposta lo stato predefinito del consenso: negato
      gtag('consent', 'default', {
        analytics_storage: 'denied',
      });

      // Inizializza Google Analytics
      gtag('js', new Date());
      gtag('config', 'G-K77R71FWFY', { anonymize_ip: true });
    </script>
  </head>

  <body>
    <app-root></app-root>

    <!-- === Sblocco consenso dal banner cookie === -->
    <script>
      /**
       * Chiamata di esempio da eseguire quando l'utente accetta i cookie analitici.
       * Puoi farlo nel tuo CookieBannerComponent con:
       *   window.gtag('consent', 'update', { analytics_storage: 'granted' });
       */
    </script>
  </body>
</html>
